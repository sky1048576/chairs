(this["webpackJsonpkonva-canvas"]=this["webpackJsonpkonva-canvas"]||[]).push([[0],[,,,,,function(t){t.exports=JSON.parse('{"success":true,"data":{"schema":["schedule_seat_id","seat_id","x","y","type","row","number","price"],"blocks":[{"block_id":24582,"seats":[[8169490,15771,59,9,"seat","1",11,60000],[8169491,15772,94,9,"seat","1",10,60000],[8169492,15773,129,9,"seat","1",9,60000],[8169493,15774,164,9,"seat","1",8,60000],[8169494,15775,199,9,"seat","1",7,60000],[8169495,15776,234,9,"seat","1",6,60000],[8169496,15777,269,9,"seat","1",5,60000],[8169497,15778,304,9,"seat","1",4,60000],[8169498,15779,339,9,"seat","1",3,60000],[8169499,15780,374,9,"seat","1",2,60000],[8169500,15781,409,9,"seat","1",1,60000],[8169501,15782,59,44,"seat","2",11,60000],[8169502,15783,94,44,"seat","2",10,60000],[8169503,15784,129,44,"seat","2",9,60000],[8169504,15785,164,44,"seat","2",8,60000],[8169505,15786,199,44,"seat","2",7,60000],[8169506,15787,234,44,"seat","2",6,60000],[8169507,15788,269,44,"seat","2",5,60000],[8169508,15789,304,44,"seat","2",4,60000],[8169509,15790,339,44,"seat","2",3,60000],[8169510,15791,374,44,"seat","2",2,60000],[8169511,15792,409,44,"seat","2",1,60000],[8169512,15793,59,79,"seat","3",11,60000],[8169513,15794,94,79,"seat","3",10,60000],[8169514,15795,129,79,"seat","3",9,60000],[8169515,15796,164,79,"seat","3",8,60000],[8169516,15797,199,79,"seat","3",7,60000],[8169517,15798,234,79,"seat","3",6,60000],[8169518,15799,269,79,"seat","3",5,60000],[8169519,15800,304,79,"seat","3",4,60000],[8169520,15801,339,79,"seat","3",3,60000],[8169521,15802,374,79,"seat","3",2,60000],[8169522,15803,409,79,"seat","3",1,60000],[8169523,15804,59,114,"seat","4",11,60000],[8169524,15805,94,114,"seat","4",10,60000],[8169525,15806,129,114,"seat","4",9,60000],[8169526,15807,164,114,"seat","4",8,60000],[8169527,15808,199,114,"seat","4",7,60000],[8169528,15809,234,114,"seat","4",6,60000],[8169529,15810,269,114,"seat","4",5,60000],[8169530,15811,304,114,"seat","4",4,60000],[8169531,15812,339,114,"seat","4",3,60000],[8169532,15813,374,114,"seat","4",2,60000],[8169533,15814,409,114,"seat","4",1,60000],[8169534,15815,59,149,"seat","5",11,60000],[8169535,15816,94,149,"seat","5",10,60000],[8169536,15817,129,149,"seat","5",9,60000],[8169537,15818,164,149,"seat","5",8,60000],[8169538,15819,199,149,"seat","5",7,60000],[8169539,15820,234,149,"seat","5",6,60000],[8169540,15821,269,149,"seat","5",5,60000],[8169541,15822,304,149,"seat","5",4,60000],[8169542,15823,339,149,"seat","5",3,60000],[8169543,15824,374,149,"seat","5",2,60000],[8169544,15825,409,149,"seat","5",1,60000],[8169545,15826,59,184,"seat","6",11,60000],[8169546,15827,94,184,"seat","6",10,60000],[8169547,15828,129,184,"seat","6",9,60000],[8169548,15829,164,184,"seat ","6 ",8,60000],[8169549,15830,199,184,"seat","6",7,60000],[8169550,15831,234,184,"seat","6",6,60000],[8169551,15832,269,184,"seat","6",5,60000],[8169552,15833,304,184,"seat","6",4,60000],[8169553,15834,339,184,"seat","6",3,60000],[8169554,15835,374,184,"seat","6",2,60000],[8169555,15836,409,184,"seat","6",1,60000],[8169556,15837,59,219,"seat","7",11,60000],[8169557,15838,94,219,"seat","7",10,60000],[8169558,15839,129,219,"seat","7",9,60000],[8169559,15840,164,219,"seat","7",8,60000],[8169560,15841,199,219,"seat","7",7,60000],[8169561,15842,234,219,"seat","7",6,60000],[8169562,15843,269,219,"seat","7",5,60000],[8169563,15844,304,219,"seat","7",4,60000],[8169564,15845,339,219,"seat","7",3,60000],[8169565,15846,374,219,"seat","7",2,60000],[8169566,15847,409,219,"seat","7",1,60000],[8169567,15848,59,254,"seat","8",11,60000],[8169568,15849,94,254,"seat","8",10,60000],[8169569,15850,129,254,"seat","8",9,60000],[8169570,15851,164,254,"seat","8",8,60000],[8169571,15852,199,254,"seat","8",7,60000],[8169572,15853,234,254,"seat","8",6,60000],[8169573,15854,269,254,"seat","8",5,60000],[8169574,15855,304,254,"seat","8",4,60000],[8169575,15856,339,254,"seat","8",3,60000],[8169576,15857,374,254,"seat","8",2,60000],[8169577,15858,409,254,"seat","8",1,60000]]}]}}')},,function(t,e,a){t.exports=a(14)},,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),c=a(4),i=a.n(c),o=(a(12),a(1)),r=function(t){var e=0;return t.forEach((function(t){e=e>t.endPoint.y?e:t.endPoint.y})),e},l=function(t){var e=[];return t.blocks.forEach((function(t){var a={block_id:t.block_id,seats:[]};t.seats.forEach((function(t){var e={schedule_seat_id:t[0],seat_id:t[1],x:t[2],y:t[3],type:t[4],row:t[5],number:t[6],price:t[7]};a.seats.push(e);var n=a.seats.reduce((function(t,e){return{x:t.x<e.x?t.x:e.x,y:t.y<e.y?t.y:e.y}})),s=function(t){return t.reduce((function(t,e){return{x:t.x>e.x?t.x:e.x,y:t.y>e.y?t.y:e.y}}))}(a.seats);a.startPoint=n,a.endPoint=s})),e.push(a)})),function(t){r(t);t.forEach((function(e){return t.forEach((function(a){e.block_id!==a.block_id&&function(t,e){return!(!function(t,e){return t.startPoint.x>=e.startPoint.x&&t.startPoint.x<=e.endPoint.x}(t,e)||!function(t,e){return t.startPoint.y>=e.startPoint.y&&t.startPoint.y<=e.endPoint.y}(t,e))}(e,a)&&function(t,e){var a=e-t.startPoint.y+120;t.startPoint.y=a,t.endPoint.y+=a,t.seats.forEach((function(t){t.y+=a}))}(a,r(t))}))}))}(e),e},d=a(5),u=a(6),m=a(2),f=function(t){var e=t.data,a=t.selected,c=t.width,i=t.height,r=t.onSeatClick,l=t.onBlockClick,d=t.disablePinch,f=t.disablePan,h=Object(n.useState)({}),y=Object(o.a)(h,2),x=y[0],b=y[1],P=function(){var t=function(){var t=e.reduce((function(t,e){var a=t.startPoint,n=t.endPoint,s=e.startPoint,c=e.endPoint;return{startPoint:{x:a.x<s.x?a.x:s.x,y:a.y<s.y?a.y:s.y},endPoint:{x:n.x>c.x?n.x:c.x,y:n.y>c.y?n.y:c.y}}})),a=t.endPoint.x-t.startPoint.x,n=t.endPoint.y-t.startPoint.y;return Object(u.a)({},t,{width:a,height:n})}();b(t)},v=function(t){return a&&a.findIndex((function(e){return e.seat_id===t.seat_id}))>-1};Object(n.useEffect)((function(){P()}),[]);var E={x:12.3,y:12.3},k={x:52.6,y:52.6},p=x.startPoint&&x.endPoint&&"".concat(x.startPoint.x-E.x," ").concat(x.startPoint.y-E.y," ").concat(x.width+k.x," ").concat(x.height+k.y);return s.a.createElement(m.b,{doubleClick:{mode:"reset",disabled:!0},pan:{disabled:f},pinch:{disabled:d},zoomIn:{disabled:d},zoomOut:{disabled:d},wheel:{disabled:d}},s.a.createElement(m.a,null,s.a.createElement("svg",{width:c,height:i,viewBox:p,preserveAspectRatio:"xMidYMid"},s.a.createElement("g",null,e.map((function(t,e){return s.a.createElement("g",{key:e,onClick:function(e){return l&&l(e,t)}},s.a.createElement("rect",{x:t.startPoint.x-12,y:t.startPoint.y-12,width:t.endPoint.x-t.startPoint.x+28+24,height:t.endPoint.y-t.startPoint.y+28+24,fill:"#f7f7f7",rx:6,ry:6}),t.seats.map((function(t,e){return s.a.createElement("rect",{key:e,onClick:function(e){return r&&r(e,t)},x:t.x,y:t.y,width:28,height:28,rx:4,ry:4,fill:v(t)?"#009777":"transparent",stroke:"#808285",strokeWidth:.3})})))}))))))},h=(a(13),[]),y=function(){var t=Object(n.useState)({open:!1,item:[]}),e=Object(o.a)(t,2),a=e[0],c=e[1],i=Object(n.useState)(null),r=Object(o.a)(i,2),u=r[0],m=r[1],y=Object(n.useState)([]),x=Object(o.a)(y,2),b=x[0],P=x[1],v=function(t,e){c({open:!1}),e&&P(h)};return Object(n.useEffect)((function(){var t=l(d.data);m(t)}),[]),s.a.createElement("div",{className:"app"},!a.open&&s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"modal_header"},s.a.createElement("h3",null,"Cinema")),s.a.createElement("div",{className:"modal_content"},u&&s.a.createElement(f,{disablePan:!0,disablePinch:!0,width:"100%",selected:b,height:250,data:u,onBlockClick:function(t,e){c({open:!0,item:[e]}),h=b}}))),a.open&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"backdrop"}),s.a.createElement("div",{className:"dialog"},s.a.createElement("button",{className:"exit-button",onClick:function(t){return v(0,!0)}},"X"),s.a.createElement("div",{className:"modal_header"},s.a.createElement("h3",null,"Select")),s.a.createElement("div",{className:"modal_content"},s.a.createElement(f,{width:"100%",height:250,data:a.item,onSeatClick:function(t,e){var a=b.findIndex((function(t){return t.seat_id===e.seat_id})),n=[];-1===a?n=n.concat(b,e):0===a?n=n.concat(b.slice(1)):a===b.length-1?n=n.concat(b.slice(0,-1)):a>0&&(n=n.concat(b.slice(0,a),b.slice(a+1))),P(n)},selected:b})),s.a.createElement("div",{className:"modal_actions"},s.a.createElement("button",{onClick:function(t){return v(0,!1)},className:"button"},"Reserve")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.e0b4f373.chunk.js.map